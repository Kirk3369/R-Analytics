---
title: "RWorksheet#5_group(Corvera, Paclibar, Sabarillo)"
author: "Rotciv Corvera, Jhon Albert Paclibar, Kirk Axl Dend Sabarillo"
date: "2024-11-11"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(rvest)
library(magrittr)
library(stringr)

url <- "https://www.imdb.com/chart/toptv/?ref_=nv_tvv_250"

page <- read_html(url)

titles <- page %>%html_nodes(".ipc-title-link-wrapper") %>%html_text()
ranking <- 1:25

head(titles, 50)

rating <- page %>%html_nodes(".ipc-rating-star--rating") %>%html_text()

rating
```


```{r}
episodes <- page %>% html_nodes("span.sc-5bc66c50-6.OOdsw.cli-title-metadata-item") %>% html_text()
eps_clean <- str_extract(episodes, "\\d+(?= eps)")
number_of_episodes <- eps_clean[!is.na(eps_clean)]
print(number_of_episodes)
```


```{r}
episodes <- page %>% html_nodes("span.sc-5bc66c50-6.OOdsw.cli-title-metadata-item") %>% html_text()


year_release <- str_extract(episodes, "\\d{4}")


year_release <- year_release[!is.na(year_release)]


year_release <- as.numeric(year_release)

print(year_release)
```


```{r}
df <- data.frame(ranking,titles, number_of_episodes, year_release,rating)
df
```

